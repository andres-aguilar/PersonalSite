{% extends 'base/base.html' %}

{% load staticfiles %}

{% block description %} {{ user.user.get_full_name }} {{ user.short_bio }} {% endblock description %}
{% block keywords %} Python blog, Django blog, blog de tecnolog√≠a {% endblock keywords %}
{% block title %} Mi blog personal {% endblock title %}

{% block nav %} 
  <li class="nav-item"><a class="nav-link smooth-scroll" href="{% url 'website:index' %}">Inicio</a></li>
  <li class="nav-item"><a class="nav-link smooth-scroll" href="{% url 'blog:index' %}">Blog</a></li>
{% endblock nav %}


{% block content %}
    <div class="page-content"> 
        <section>
            <div class="wrapper">
                <div class="page-header page-header-tiny">
                <div class="page-header-image" data-parallax="true" style="background-image: url('{% static 'images/background1.jpg' %}');"></div>
                    <div class="container">
                        <div class="content-center">
                            <h1 class="h2 title"> Blog  </h1>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class='section' id="articles">
            <div class="container"> 
            {% for article in object_list %}
            <article class="row">
                <div class="col-lg-12 col-md-12">
                  <div class="card-body">
                    <a href="{% url 'blog:view' article.slug %}"> <h2 class="h3 title"> {{ article.title }} </h2> </a>
                    <p class='h6 text-muted'> {{ article.pub_date }} </p>
                    <div> 
                        {{ article.formatted_markdown | safe | truncatechars_html:500 }} 
                    </div>
                  </div>
                </div>
            </article>
            {% endfor %}

            {% if page_obj.has_previous or page_obj.has_next %}
                <div class="row justify-content-sm-center">
                    <div class='col-sm-auto'>
                        {% if page_obj.has_previous %}
                        <a class='btn btn-primary' href="?page={{ page_obj.previous_page_number }}">Anterior</a>
                        {% else %}
                        <a class='btn btn-disabled disabled' href="">Anterior</a>
                        {% endif %}

                        {% if page_obj.has_next %}
                        <a class='btn btn-primary' href="?page={{ page_obj.next_page_number }}">Siguiente</a>
                        {% else %}
                        <a class='btn btn-disabled disabled' href="">Siguiente</a>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
            </div>
        </section>
    </div>
{% endblock content %}


{% block footerIcons %}
  {% for sm in social_medias %}
    <a class="cc-facebook btn btn-link" href="{{ sm.url }}"><i class="{{ sm.icon }} fa-2x " aria-hidden="true"></i></a>
  {% endfor %}
{% endblock footerIcons %}

{% block footerCopy %} {{ user.user.get_full_name }} {% endblock footerCopy %}